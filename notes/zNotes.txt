zNotes



cd ~/AppData/Roaming/Adventure\ Land/autosync4984500319158272/adventureland
yarn add --dev jest

parapohrase an error:
Steam Ticket Failed: Error on getting encrypted app ticket.


Screeps People: Rising

https://screeps.com/a/#!/rank/world/2017-09?page=21&highlight=206
https://screeps.com/a/#!/profile/Rising

==

FPS issues
Tried:
- Disable Nvidia overlay (geforce experience settings)
- Disable Discord game overlay
- Turn off Curseforge/Overworlf ()
- Turn off Windows10 Xbox Game Bar (windows "graphics settings")


===
show_json(get_nearest_monster({'type':'phoenix'}))
// smart_move(get_nearest_monster({'type':'phoenix'}))
===
game_log('run_once')
==
start_character("Terranger","default");
start_character("NoHeals4U","default");

start_character("Terranger","Terranger");
start_character("NoHeals4U","NoHeals4U");
stop_character("Terranger");
stop_character("NoHeals4U");
----
	parent.upgrade(locate_item("helmet"), locate_item("scroll0"), null, true, true).then(e=>show_json(e));


===
set("bank-"+character.name, character.bank)
show_json(get("bank-"+character.name))

====
show_json(distance(character, get_player("CurvyMoney"), false))


===FPS convo
https://discord.com/channels/238332476743745536/247016485812174848/721746281021833326
var start=new Date()
localStorage.setItem("test","1")
for(var i=0;i<100;i++)
{
  //game_log(i);
    //for(var key in localStorage){}
    Object.keys(localStorage).forEach(function(key){
    var foo = get(key);
    });
}
output=mssince(start);
show_json(output)

== REQUEST ITEM MANUALLS 

function request_item_from_all(itemname) {
  for (char of ["Terazarrior","NoHeals4U","Terranger"]) {
    var key = "give_items_"+char;
    var items = get(key);
    if (!items.includes(itemname)) {
      items.push(itemname);
    }
    set(key, items);
  }
}

request_item_from_all("hpamulet");
show_json(get("give_items_Terazarrior"));
====



GET ALL FROM BANK 

show_json(character.bank)

function locate_items(name) {
  idxs = [];
  for(var i=0;i<42;i++) {
    if(character.items[i] 
      && character.items[i].name==name) {
      idxs.push(i);
    }
  }
  return idxs;
}
var items = locate_items("stringer");
for (i of items) { bank_retrieve(i); }










parent.upgrade takes the same parameters as upgrade. But it supports two more. One that I don't remember exactly what did (left it as true) and the last parameter is for calculate

   socket.emit('upgrade', {
          item_num,
          scroll_num,
          offering_num: null,
          clevel,
          calculate: false,
        });


   socket.emit('compound', {
        items,
        scroll_num,
        offering_num: null,
        clevel,
        calculate: true
      });
  let results = push_deferred('compound');

  socket.emit('upgrade', {
        item_num,
        scroll_num,
        offering_num: null,
        clevel,
        calculate: true,
      });
  let results = push_deferred('upgrade');


parent.upgrade(slot_item, slot_scroll, offering, "code", calculate);

returns a promise. you can either use  .then/.catch on it or if you use async/await you can just const result =  await parent.upgrade(

  ==
  ACtion skills

  use_skill('blink', [x, y]);

  ===
  let testing=false;
let angle=0;
let radius=100;

//point to circle arround
let centerX=-0;
let centerY=0;

let lastMove = 0;
setInterval(function(){
        clear_drawings();
        draw_circle(centerX, centerY, radius);
        let nextX = centerX + Math.cos(angle)*radius;
        let nextY = centerY + Math.sin(angle)*radius;
    
        if(distance({x: nextX, y: nextY}, character) < 30)
        {
            angle += 0.1;
        }
        
        draw_line(centerX, centerY, nextX, nextY);
    
        if(!character.moving && new Date() - lastMove > 100)
        {
            xmove(nextX,nextY);
            lastMove = new Date();
        }
}, 10);


==


Kite visualizer
var draw_debug = true;

function on_draw(){
  if(draw_debug){
      clear_drawings();

      draw_circle(character.real_x, character.real_y, character.range);

      var target = get_target(character);
      if(target){
          draw_line(character.real_x, character.real_y, target.x, target.y);
      }
      if(is_moving(character)){
          draw_line(character.from_x, character.from_y, character.going_x, character.going_y, 1, 0x33FF42);
      }
    }

    for(id in parent.entities){
      var entity = parent.entities[id];
      var entity_targ = get_target_of(entity);
      if(entity_targ && entity_targ.name === character.name && entity.moving){
        draw_line(entity.from_x, entity.from_y, entity.going_x, entity.going_y, 1, 0xda0b04);
        draw_circle(entity.x, entity.y, entity.range, 1, 0xda0b04);
      }
    }
}
